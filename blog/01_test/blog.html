<!DOCTYPE html> 
<html lang='en-US' xml:lang='en-US'> 
<head><title>M∕M∕1∕K Queue Analysis</title> 
<meta charset='utf-8' /> 
<meta content='TeX4ht (https://tug.org/tex4ht/)' name='generator' /> 
<meta content='width=device-width,initial-scale=1' name='viewport' /> 
<link href='blog.css' rel='stylesheet' type='text/css' /> 
<meta content='blog.tex' name='src' /> 
</head><body>
   <div class='maketitle'>
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class='titleHead'>M∕M∕1∕K Queue Analysis</h2>
<div class='author'><span class='cmr-12'>Farbod Shahinfar</span></div><br />
<div class='date'><span class='cmr-12'>May 9, 2024</span></div>
   </div>
<!-- l. 15 --><p class='indent'>   Consider a queue receiving requests with exponential (memory-less) inter-arrival
distribution and exponential service time. There is only one service node and
the maximum buffer size is <span class='cmmi-10'>K</span>. This system is represented with <span class='cmmi-10'>M∕M∕</span>1<span class='cmmi-10'>∕K</span>
Kendall’s notation. The request are either received and placed in the queue or
they are blocked. If the request are received, then they will not live the
queue until they are serviced. In this post, a basic analysis of the system is
performed.
</p>
   <h3 class='sectionHead' id='stationary-probabilities-of-mmk'><span class='titlemark'>1   </span> <a id='x1-10001'></a>Stationary Probabilities of <span class='cmmi-10'>M∕M∕</span>1<span class='cmmi-10'>∕K</span></h3>
   <figure class='figure' id='-this-ctmc-shows-different-states-of-mmk-system-and-transition-rates'> 

                                                                  

                                                                  
<a id='x1-10011'></a>
                                                                  

                                                                  
<!-- l. 28 --><p class='noindent'><img alt='012.Kλμλμλμλμ..
' src='blog0x.svg' />
</p>
<figcaption class='caption'><span class='id'>Figure 1:</span><span class='content'>This CTMC shows different states of <span class='cmmi-10'>M∕M∕</span>1<span class='cmmi-10'>∕K </span>system and transition
rates.</span></figcaption><!-- tex4ht:label?: x1-10011  -->
                                                                  

                                                                  
   </figure>
<!-- l. 49 --><p class='indent'>   We can write balance equation for this CTMC.
</p><!-- l. 51 --><p class='indent'>
</p><table class='align-star'>
                 <tr><td class='align-odd'></td>                 <td class='align-even'><span class='cmmi-10'>λπ</span><sub><span class='cmr-7'>0</span></sub> = <span class='cmmi-10'>μπ</span><sub><span class='cmr-7'>1</span></sub> <img alt='=⇒' class='Longrightarrow' src='blog1x.svg' /> <span class='cmmi-10'>π</span><sub><span class='cmr-7'>1</span></sub> = <img align='middle' alt='λ
μ-' class='frac' src='blog2x.svg' /><span class='cmmi-10'>π</span><sub><span class='cmr-7'>0</span></sub></td>                           <td class='align-label'></td>                 <td class='align-label'>
                 </td></tr><tr><td class='align-odd'></td>                 <td class='align-even'>(<span class='cmmi-10'>λ </span>+ <span class='cmmi-10'>μ</span>)<span class='cmmi-10'>π</span><sub><span class='cmr-7'>1</span></sub> = <span class='cmmi-10'>λπ</span><sub><span class='cmr-7'>0</span></sub> + <span class='cmmi-10'>μπ</span><sub><span class='cmr-7'>2</span></sub> <img alt='=⇒' class='Longrightarrow' src='blog3x.svg' /> <span class='cmmi-10'>π</span><sub><span class='cmr-7'>2</span></sub> = <img align='middle' alt='λ
--
μ' class='frac' src='blog4x.svg' /><span class='cmmi-10'>π</span><sub><span class='cmr-7'>1</span></sub></td>                 <td class='align-label'></td>                 <td class='align-label'>
                 </td></tr><tr><td class='align-odd'></td>                 <td class='align-even'><img alt='...' class='vdots' src='blog5x.svg' /></td>                                                <td class='align-label'></td>                 <td class='align-label'>
                 </td></tr><tr><td class='align-odd'></td>                 <td class='align-even'><span class='cmmi-10'>π</span><sub><span class='cmmi-7'>i</span></sub> = <img align='middle' alt='λ
μ-' class='frac' src='blog6x.svg' /><span class='cmmi-10'>π</span><sub><span class='cmmi-7'>i</span><span class='cmsy-7'>−</span><span class='cmr-7'>1</span></sub></td>                                       <td class='align-label'></td>                 <td class='align-label'></td></tr></table>
<!-- l. 58 --><p class='indent'>   According to equations, we can see that the stationary probability of state <span class='cmmi-10'>i </span>is
calculated as below.
</p>
   <table class='equation'><tr><td>
   <div class='math-display'>
<img alt='     λ i
πi = (-) π0
     μ
' class='math-display' src='blog7x.svg' /><a id='x1-1002r1'></a></div>
   </td><td class='equation-label'>(1)</td></tr></table>
                                                                  

                                                                  
<!-- l. 64 --><p class='nopar'>
</p><!-- l. 66 --><p class='indent'>   Sum of stationary probabilities should be one. By solving this equation we
can figure out the value for <span class='cmmi-10'>π</span><sub><span class='cmr-7'>0</span></sub>. By knowing <span class='cmmi-10'>π</span><sub><span class='cmr-7'>0</span></sub> we can calculate other <span class='cmmi-10'>π</span><sub><span class='cmmi-7'>i</span></sub>
(eq. <a href='#x1-1002r1'>1<!-- tex4ht:ref: eq:pi  --></a>).
</p>
   <table class='equation'><tr><td>
   <div class='math-display'>
<img alt='∑K
    πi = 1
 i=0
' class='math-display' src='blog8x.svg' /><a id='x1-1003r2'></a></div>
   </td><td class='equation-label'>(2)</td></tr></table>
<!-- l. 73 --><p class='nopar'>
</p><!-- l. 75 --><p class='indent'>   Steps for solving the eq. <a href='#x1-1003r2'>2<!-- tex4ht:ref: eq:probone  --></a> are given below.
</p><!-- l. 77 --><p class='indent'>
                                                                  

                                                                  
</p><table class='align-star'>
                        <tr><td class='align-odd'></td>                        <td class='align-even'><span class='cmex-10'>∑</span>
  <sub><span class='cmmi-7'>i</span><span class='cmr-7'>=0</span></sub><sup><span class='cmmi-7'>K</span></sup><span class='cmmi-10'>π</span><sub>
<span class='cmmi-7'>i</span></sub> = 1 <img alt='=⇒' class='Longrightarrow' src='blog9x.svg' /></td>                            <td class='align-label'></td>                        <td class='align-label'>
                        </td></tr><tr><td class='align-odd'></td>                        <td class='align-even'><span class='cmex-10'>∑</span>
  <sub><span class='cmmi-7'>i</span><span class='cmr-7'>=0</span></sub><sup><span class='cmmi-7'>K</span></sup>(<img align='middle' alt='λ-
μ' class='frac' src='blog10x.svg' />)<sup><span class='cmmi-7'>i</span></sup><span class='cmmi-10'>π</span><sub>
<span class='cmr-7'>0</span></sub> = 1 <img alt='= ⇒' class='Longrightarrow' src='blog11x.svg' /></td>                        <td class='align-label'></td>                        <td class='align-label'>
                        </td></tr><tr><td class='align-odd'></td>                        <td class='align-even'><span class='cmmi-10'>π</span><sub><span class='cmr-7'>0</span></sub> <span class='cmex-10'>∑</span>
   <sub><span class='cmmi-7'>i</span><span class='cmr-7'>=0</span></sub><sup><span class='cmmi-7'>K</span></sup>(<img align='middle' alt='λ
μ-' class='frac' src='blog12x.svg' />)<sup><span class='cmmi-7'>i</span></sup> = 1 <img alt='= ⇒' class='Longrightarrow' src='blog13x.svg' /></td>                        <td class='align-label'></td>                        <td class='align-label'>
                        </td></tr><tr><td class='align-odd'></td>                        <td class='align-even'><span class='cmmi-10'>π</span><sub><span class='cmr-7'>0</span></sub>(<img align='middle' alt='      K+1
1−-(λμ)----
  1 − λ
      μ' class='frac' src='blog14x.svg' />) = 1</td>                             <td class='align-label'></td>                        <td class='align-label'>
                        </td></tr><tr><td class='align-odd'></td>                        <td class='align-even'><span class='cmmi-10'>π</span><sub><span class='cmr-7'>0</span></sub> = <img align='middle' alt='   μ−λ
----μ-----
μK+1K−+λ1K+1
  μ' class='frac' src='blog15x.svg' /></td>                               <td class='align-label'></td>                        <td class='align-label'></td></tr></table>
<!-- l. 85 --><p class='indent'>   Values for stationary probabilities are calculated as shown below.
</p>
   <table class='equation'><tr><td>
   <div class='math-display'>
<img alt='       i   μ−λ-
πi = (λ)-K+1μ-K+1-
     μ  μ--μ−Kλ+1--
' class='math-display' src='blog16x.svg' /><a id='x1-1004r3'></a></div>
   </td><td class='equation-label'>(3)</td></tr></table>
<!-- l. 90 --><p class='nopar'>
</p>
   <h3 class='sectionHead' id='blocking-probability-of-mmk'><span class='titlemark'>2   </span> <a id='x1-20002'></a>Blocking Probability of <span class='cmmi-10'>M∕M∕</span>1<span class='cmmi-10'>∕K</span></h3>
                                                                  

                                                                  
<!-- l. 95 --><p class='noindent'>Now that we know the stationary probability for <span class='cmmi-10'>M∕M∕</span>1<span class='cmmi-10'>∕K </span>queueing systems, we
can calculate the probability of request arriving to a full queue. In this case the
request are blocked (dropped) and not serviced.
</p>
   <table class='equation'><tr><td>
   <div class='math-display'>
<img alt='             --λK(μ-−-λ)-
PBlock = πK = μK+1 − λK+1
' class='math-display' src='blog17x.svg' /><a id='x1-2001r4'></a></div>
   </td><td class='equation-label'>(4)</td></tr></table>
<!-- l. 101 --><p class='nopar'>
</p><!-- l. 104 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='throughput-of-mmk'><span class='titlemark'>3   </span> <a id='x1-30003'></a>Throughput of <span class='cmmi-10'>M∕M∕</span>1<span class='cmmi-10'>∕K</span></h3>
<!-- l. 106 --><p class='noindent'>The throughput of the system is same as the rate of request placed into the queue. If
we discard the request that are blocked, the rest of requests will eventually exit the
system.
</p>
   <table class='equation'><tr><td>
   <div class='math-display'>
<img alt='Throughput = (1− P    )λ
                  Block
' class='math-display' src='blog18x.svg' /><a id='x1-3001r5'></a></div>
   </td><td class='equation-label'>(5)</td></tr></table>
<!-- l. 112 --><p class='nopar'>
                                                                  

                                                                  
</p><!-- l. 115 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='expected-queue-size'><span class='titlemark'>4   </span> <a id='x1-40004'></a>Expected Queue Size</h3>
<!-- l. 117 --><p class='noindent'>
</p><table class='align-star'>
        <tr><td class='align-odd'></td>        <td class='align-even'><span class='cmmi-10'>E</span>[<span class='cmmi-10'>N</span>] = <span class='cmex-10'>∑</span>
  <sub><span class='cmmi-7'>i</span><span class='cmr-7'>=0</span></sub><sup><span class='cmmi-7'>K</span></sup><span class='cmmi-10'>iπ</span><sub>
<span class='cmmi-7'>i</span></sub></td>                                         <td class='align-label'></td>        <td class='align-label'>
        </td></tr><tr><td class='align-odd'></td>        <td class='align-even'><span class='cmmi-10'>E</span>[<span class='cmmi-10'>N</span>] = <span class='cmex-10'>∑</span>
  <sub><span class='cmmi-7'>i</span><span class='cmr-7'>=0</span></sub><sup><span class='cmmi-7'>K</span></sup><span class='cmmi-10'>i</span>(<img align='middle' alt='λ
μ-' class='frac' src='blog19x.svg' />)<sup><span class='cmmi-7'>i</span></sup><img align='middle' alt='   μ−μλ-
μK+1−λK+1-
   μK+1' class='frac' src='blog20x.svg' /></td>                              <td class='align-label'></td>        <td class='align-label'>
        </td></tr><tr><td class='align-odd'></td>        <td class='align-even'><span class='cmmi-10'>E</span>[<span class='cmmi-10'>N</span>] = <img align='middle' alt='   μ−μλ-
μK+1−λK+1-
  μK+1' class='frac' src='blog21x.svg' /> <span class='cmex-10'>∑</span>
          <sub><span class='cmmi-7'>i</span><span class='cmr-7'>=0</span></sub><sup><span class='cmmi-7'>K</span></sup><span class='cmmi-10'>i</span>(<img align='middle' alt='λ
μ-' class='frac' src='blog22x.svg' />)<sup><span class='cmmi-7'>i</span></sup></td>                             <td class='align-label'></td>        <td class='align-label'>
        </td></tr><tr><td class='align-odd'></td>        <td class='align-even'><span class='cmmi-10'>E</span>[<span class='cmmi-10'>N</span>] = <img align='middle' alt='   μ−μλ-
μK+1−λK+1-
  μK+1' class='frac' src='blog23x.svg' /> <span class='cmsy-10'>×</span><img align='middle' alt='λ
μ-' class='frac' src='blog24x.svg' /><span class='cmex-10'>∑</span>
    <sub><span class='cmmi-7'>i</span><span class='cmr-7'>=0</span></sub><sup><span class='cmmi-7'>K</span></sup><span class='cmmi-10'>i</span>(<img align='middle' alt='λ
μ-' class='frac' src='blog25x.svg' />)<sup><span class='cmmi-7'>i</span><span class='cmsy-7'>−</span><span class='cmr-7'>1</span></sup></td>                       <td class='align-label'></td>        <td class='align-label'>
        </td></tr><tr><td class='align-odd'></td>        <td class='align-even'><span class='cmmi-10'>ρ </span>= <img align='middle' alt='λ-
μ' class='frac' src='blog26x.svg' /></td>                                                    <td class='align-label'></td>        <td class='align-label'>
        </td></tr><tr><td class='align-odd'></td>        <td class='align-even'><span class='cmmi-10'>E</span>[<span class='cmmi-10'>N</span>] = <img align='middle' alt='   μ−μλ-
μK+1−λK+1-
  μK+1' class='frac' src='blog27x.svg' /> <span class='cmsy-10'>×</span><img align='middle' alt='λ
μ-' class='frac' src='blog28x.svg' /><span class='cmex-10'>∑</span>
    <sub><span class='cmmi-7'>i</span><span class='cmr-7'>=0</span></sub><sup><span class='cmmi-7'>K</span></sup><img align='middle' alt='d
dρ' class='frac' src='blog29x.svg' />(<span class='cmmi-10'>ρ</span>)<sup><span class='cmmi-7'>i</span></sup></td>                        <td class='align-label'></td>        <td class='align-label'>
        </td></tr><tr><td class='align-odd'></td>        <td class='align-even'><span class='cmmi-10'>E</span>[<span class='cmmi-10'>N</span>] = <img align='middle' alt='   μ−μλ-
μK+1−λK+1-
  μK+1' class='frac' src='blog30x.svg' /> <span class='cmsy-10'>×</span><img align='middle' alt='λ
μ-' class='frac' src='blog31x.svg' /> <span class='cmsy-10'>×</span><img align='middle' alt='d
dρ' class='frac' src='blog32x.svg' /><span class='cmex-10'>∑</span>
    <sub><span class='cmmi-7'>i</span><span class='cmr-7'>=0</span></sub><sup><span class='cmmi-7'>K</span></sup>(<span class='cmmi-10'>ρ</span>)<sup><span class='cmmi-7'>i</span></sup></td>                      <td class='align-label'></td>        <td class='align-label'>
        </td></tr><tr><td class='align-odd'></td>        <td class='align-even'><span class='cmmi-10'>E</span>[<span class='cmmi-10'>N</span>] = <img align='middle' alt='   μ−μλ-
μK+1−λK+1-
  μK+1' class='frac' src='blog33x.svg' /> <span class='cmsy-10'>×</span><img align='middle' alt='λ
μ-' class='frac' src='blog34x.svg' /> <span class='cmsy-10'>×</span><img align='middle' alt='d
dρ' class='frac' src='blog35x.svg' /><img align='middle' alt='1− ρK+1
--1−-ρ--' class='frac' src='blog36x.svg' /></td>                        <td class='align-label'></td>        <td class='align-label'>
        </td></tr><tr><td class='align-odd'></td>        <td class='align-even'><span class='cmmi-10'>E</span>[<span class='cmmi-10'>N</span>] = <img align='middle' alt='   μ−μλ-
μK+1−λK+1-
  μK+1' class='frac' src='blog37x.svg' /> <span class='cmsy-10'>×</span><img align='middle' alt='λ
μ-' class='frac' src='blog38x.svg' /> <span class='cmsy-10'>×</span><img align='middle' alt='− (K + 1)ρK(1− ρ)+ 1− ρK+1
---------------2-----------
         (1− ρ)' class='frac' src='blog39x.svg' /></td>        <td class='align-label'></td>        <td class='align-label'>
        </td></tr><tr><td class='align-odd'></td>        <td class='align-even'><span class='cmmi-10'>…</span></td>                                                        <td class='align-label'></td>        <td class='align-label'></td></tr></table>
                                                                  

                                                                  
<!-- l. 131 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='expected-request-response-time'><span class='titlemark'>5   </span> <a id='x1-50005'></a>Expected Request Response Time</h3>
<!-- l. 133 --><p class='noindent'>Now that we have calculated the expected number of request in the queue we can use
Little’s law to obtain the expected request response time. This rule simply states that
the expected number of request in the system (expected size of the queue) is same as
the rate of incoming requests to the queue times the expected time a request spend in
the system.
</p><!-- l. 139 --><p class='indent'>
</p><table class='align-star'>
                         <tr><td class='align-odd'></td>                         <td class='align-even'><span class='cmmi-10'>λ</span><span class='cmsy-10'>′ </span>= (1 <span class='cmsy-10'>− </span><span class='cmmi-10'>P</span><sub><span class='cmmi-7'>Block</span></sub>)<span class='cmmi-10'>λ</span></td>                         <td class='align-label'></td>                         <td class='align-label'>
                         </td></tr><tr><td class='align-odd'></td>                         <td class='align-even'><span class='cmmi-10'>E</span>[<span class='cmmi-10'>N</span>] = <span class='cmmi-10'>λ</span><span class='cmsy-10'>′</span><span class='cmmi-10'>E</span>[<span class='cmmi-10'>T</span>]</td>                            <td class='align-label'></td>                         <td class='align-label'></td></tr></table>
   <table class='equation'><tr><td>
   <div class='math-display'>
<img alt='       E[N-]
E [T] =  λ′
' class='math-display' src='blog40x.svg' /><a id='x1-5001r6'></a></div>
   </td><td class='equation-label'>(6)</td></tr></table>
<!-- l. 146 --><p class='nopar'>
</p>
    
</body> 
</html>